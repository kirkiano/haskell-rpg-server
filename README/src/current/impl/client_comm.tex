For example, if a character wishes to say ``Good morning'' to other characters
in the same place, it constructs an instance of the \typ{Say} type, which is a
subtype of the \typ{Request} type that holds the string ``Good morning,'' and
sends it to the server.
The corresponding client thread pairs the request with this client's unique
ID, and pushes the pair onto the game loop's in-queue.
The game loop eventually pops the request off and, seeing that it is
of type \typ{Say}, it~queries the database
for the set of characters within ``earshot'' of the requesting client (\ie,
those occupying the same place).
It~then constructs an instance of the
\typ{Said} type, which is a subtype of the \typ{Event} type, and wraps it up
as instance of type \typ{Message}.
To forward this message to the other characters, it uses their sending
functions, which it looks up in its internal dictionary.

Communication is serialized in JSON\@.